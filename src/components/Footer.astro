---
const props = Astro.props;
const { socials, seo, logo } = props;
const rows = props.data[0].rows;
---
<style  lang='css'>
.it-brand-wrapper{
  display: flex;
  flex-direction: column;
}
.footer-logo-container{
  paddingLeft: 15px;
  width:100%;
  display: flex;
  flex-direction: column;
  align-items: start;
  justify-content: start;
}
@media (min-width: 100em) {
 .footer-logo-container {
    flex-direction: row;
    justify-content: center;
    align-items: center;
  }
}
</style>

<footer class='it-footer'>
  <div class='it-footer-main'>


    <section>
      <div class='row clearfix'>
        <div class='col-lg-12'>
          <div class='footer-logo-container'>
              <div class='it-brand-wrapper'>
                <a href='/' data-focus-mouse='false'>
                  {
                    logo ? (
                      <img src={logo} class='logo' alt={"logo"} loading='lazy' />
                    ) : (
                      <svg class='icon' aria-hidden='true'>
                        <use href='/icons/sprites.svg#it-pa' />
                      </svg>
                    )
                  }
                  {
                    !logo && (
                      <div class='it-brand-text'>
                        <h2>{seo.title}</h2>
                        <h3 class='d-none d-md-block'>{seo.subtitle}</h3>
                      </div>
                    )
                  }
                </a>
              </div>

              <div class='it-brand-wrapper'>CON IL SOSTEGNO DI:
                <img src={"/assets/logo-dtd.png"}  alt={"dipartimento trasformazione digitale"} loading='lazy' />
              </div>

              <div class='it-brand-wrapper'>
                <img src={"/assets/logo-min-cultura.png"}    alt={"ministero della cultura"} loading='lazy' />
              </div>

              <div class='it-brand-wrapper'>CON IL SUPPORTO DI:
                <img src={"/assets/logo-min-sport-giovani.png"}   alt={"ministro per lo sport e i giovani"} loading='lazy' />
              </div>
          </div>
        </div>
      </div>
    </section>

      <div class='container'>
      {
        rows.map((row: any, index: number) => {
          const cn = index > 0 ? "py-4 border-white border-top" : "";
          return (
            <section class={cn}>
              <row class='row'>
                {row.sections.map((section: any) => {
                  return (
                    <div class='col-lg-4 col-md-4 col-sm-6 pb-2'>
                      <h4>{section.title}</h4>
                      {section.texts && (
                        <p set:html={section.texts?.join("<br/>")} />
                      )}
                      {section.socials && (
                        <ul class='list-inline text-left social'>
                          {socials?.map((social: any) => {
                            return (
                              <li class='list-inline-item'>
                                <a
                                  class='p-2 text-white'
                                  href={social.url}
                                  target='_blank'
                                  rel='noopener noreferrer'
                                >
                                  <svg
                                    class='icon icon-sm icon-white align-top'
                                    aria-hidden='true'
                                  >
                                    <use
                                      xlink:href={`/icons/sprites.svg#it-${social.title}`}
                                    />
                                  </svg>
                                  <span class='visually-hidden'>
                                    {social.title} (link esterno)
                                  </span>
                                </a>
                              </li>
                            );
                          })}
                        </ul>
                      )}
                      {section.links && (
                        <div class='link-list-wrapper'>
                          <ul class='footer-list link-list clearfix'>
                            {section.links.map((link: any) => {
                              return (
                                <li>
                                  <a class='list-item' href={link.url}>
                                    {link.title}
                                  </a>
                                </li>
                              );
                            })}
                          </ul>
                        </div>
                      )}
                    </div>
                  );
                })}
              </row>
            </section>
          );
        })
      }
    </div>

    </div>
    <div class='it-footer-small-prints clearfix'>
      <div class='container'>
        <!-- <h3 class="visually-hidden">Sezione Link Utili</h3> -->
        <ul
          class='it-footer-small-prints-list list-inline mb-0 d-flex flex-column flex-md-row'
        >
          <li class='list-inline-item'>
            <a
              href='https://www.iubenda.com/privacy-policy/63648714'
              class='iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe'
              title='Privacy Policy '>Privacy Policy</a
            >
          </li>
          <li class='list-inline-item'>
            <a
              href='https://www.iubenda.com/privacy-policy/63648714/cookie-policy'
              class='iubenda-white iubenda-noiframe iubenda-embed iubenda-noiframe'
              title='Cookie Policy '>Cookie Policy</a
            >
          </li>
        </ul>
      </div>
    </div>
</footer>
